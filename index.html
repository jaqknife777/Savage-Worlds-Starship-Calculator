<!DOCTYPE html>
<html lang="en">
<header>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Starship Calculator</title>
  <link rel="stylesheet" href="style.css?v=1.0.3">
  <!-- Icons -->
  <link rel="icon" href="favicon.ico" sizes="any"> <!-- classic .ico -->
	<link rel="icon" type="image/png" sizes="32x32" href="favicon-32.png">
	<link rel="icon" type="image/png" sizes="192x192" href="favicon-192.png">
	<link rel="apple-touch-icon" href="apple-touch-icon.png">
	<!-- Optional: cache-buster -->
	<link rel="icon" href="favicon.ico?v=2" sizes="any">
	
  <img class="brand-logo" src="image/SW_LOGO_FP_2018.png" alt="Savage Worlds logo" />



</head>
<body>
  <div class="container">
    <h1>Savage Worlds Starship Calculator</h1>

    <section class="ship-profile">
      <h2>Ship Profile</h2>
      <label>Ship Name: <input type="text" id="shipName" /></label>
<!-- Ship Size input with dropdown -->
<label>Ship Size:
  <select id="shipSize">
    <option value="2">Tiny</option>
    <option value="4">Small</option>
    <option value="8" selected>Medium</option>
    <option value="12">Large</option>
    <option value="16">Huge</option>
    <option value="20">Giant</option>
    <option value="24">Gargantuan</option>
    <option value="28">Behemoth</option>
    <option value="32">Leviathan</option>
    <option value="40">World Killer</option>
  </select>
</label>




<div id="baseStats">
  <p>Size Number: <span id="sizeNumber"></span></p>
  <p>Acceleration/Top Speed: <span id="accTS"></span></p>
  <p>Toughness: <span id="toughness"></span></p>
  <p>Crew: <span id="crew"></span></p>
  <p>Energy: <span id="energy"></span></p>
  <p>Base Cost: $<span id="baseCost"></span></p>
  <p>Mod Slot Capacity: <span id="modSlots"></span></p>
</div>



<section class="modifications">
  <h2>Modifications</h2>
  <div id="modContainer"></div>
</section>


<!-- Weapons Section UI -->
<section id="weaponsSection" class="card">
  <h2>Vehicular Weapons</h2>
  <div class="content">
    <div class="weap-row">
      <label for="weaponSelect">Weapon:</label>
      <select id="weaponSelect"></select>
    </div>

    <!-- For fixed / level weapons (non-missile/torpedo): -->
    <div class="weap-row" id="rowWeaponQty">
      <label for="weaponQty">Quantity (mounts):</label>
      <input id="weaponQty" type="number" min="1" step="1" value="1">
    </div>

    <!-- For Mass Driver only: -->
    <div class="weap-row" id="rowWeaponLevel">
      <label for="weaponLevel">Level (Mass Driver):</label>
      <input id="weaponLevel" type="number" min="1" max="12" step="1" value="1">
    </div>

    <!-- For missiles/torpedoes only: -->
    <div class="weap-row" id="rowWeaponLaunchers" style="display:none;">
      <label for="weaponLaunchers">Launchers (mounts):</label>
      <input id="weaponLaunchers" type="number" min="1" step="1" value="1">
    </div>
	
    <div class="weap-row" id="rowWeaponAmmo" style="display:none;">
      <label for="weaponAmmo">Ammo (missiles/torpedoes):</label>
      <input id="weaponAmmo" type="number" min="0" step="1" value="0">
      <small>(Ammo storage uses Mods by bundle: e.g., 12/1)</small>
    </div>
	

<div class="weap-row" id="rowLinkMode" style="display:none;">
  <label for="weaponLinkMode">Mount Mode:</label>
  <select id="weaponLinkMode">
    <option value="none" selected>None</option>
    <option value="linked">Linked (group 2 or 4)</option>
    <option value="fixed">Fixed (group 2 or 4)</option>
  </select>
</div>

<div class="weap-row" id="rowLinkGroup" style="display:none;">
  <label for="weaponLinkGroup">Group Size:</label>
  <select id="weaponLinkGroup">
    <option value="2" selected>2</option>
    <option value="4">4</option>
  </select>
</div>



    <div class="weap-row">
      <button id="addWeaponBtn" type="button">Add Weapon</button>
    </div>

    <div class="weap-table-wrap">
      <table id="weaponsTable">
        <thead>
          <tr>
            <th>Weapon</th>
            <th>Range</th>
            <th>Damage</th>
            <th>RoF</th>
            <th>Shots</th>
            <th>Mods</th>
            <th>Cost</th>
            <th>Notes</th>
            <th>Qty (Launchers / Bays)</th>
            <th>Ammo</th>
			<th>Mode</th>
			<th>Group</th>

            <th></th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>
  </div>
</section>





<section class="results" id="starshipStats">
  <h2>Starship Stat Block</h2>
  <div class="stat-grid">
    <div class="stat-label">Ship Name:</div>
    <div class="stat-value" id="shipNameDisplay"></div>

    <div class="stat-label">Ship Size:</div>
    <div class="stat-value" id="shipSizeDisplay"></div>

    <div class="stat-label">Acc/TS:</div>
	<div class="stat-value" id="resultAccTS"></div>

    <div class="stat-label">Climb:</div>
    <div class="stat-value" id="climbRate"></div>

    <div class="stat-label">Toughness:</div>
    <div class="stat-value" id="adjustedToughness"></div>

    <div class="stat-label">Crew:</div>
    <div class="stat-value" id="adjustedCrew"></div>

    <div class="stat-label">Energy:</div>
	<div class="stat-value" id="resultEnergy"></div>

    <div class="stat-label">Mod Slots Used:</div>
    <div class="stat-value" id="slotsUsed"></div>

    <div class="stat-label">Slots Remaining:</div>
    <div class="stat-value" id="slotsRemaining"></div>

    <div class="stat-label">Total Mod Cost:</div>
    <div class="stat-value">$<span id="modCost"></span></div>

    <div class="stat-label">Total Ship Cost:</div>
    <div class="stat-value">$<span id="totalCost"></span></div>

    <div class="stat-label">Adjusted Speed:</div>
    <div class="stat-value" id="adjustedSpeed"></div>
	
	<div class="stat-label">Astrogation Mod</div>
	<div class="stat-value" id="astrogationMod">+0</div>


  </div>
</section>


<!-- Separate Weapons Stat Block -->
<section id="weaponStats" class="card">
  <h2>Vehicular Weapons</h2>
  <div class="content">
    <ul id="weaponsListResult"></ul>
    <div class="weapons-totals">
      <div><strong>Weapon Slots Used:</strong> <span id="weaponSlotsUsed">0</span></div>
      <div><strong>Weapon Cost:</strong> <span id="weaponCost">0</span></div>

    </div>
  </div>
</section>


<!-- Save/Load controls -->
<section class="card" id="saveLoadSection">
  <h2>Save / Load</h2>
  <div class="content save-controls">
    <button id="btnSaveLocal" type="button">Save Locally</button>
    <button id="btnLoadLocal" type="button">Load Local</button>
    <button id="btnDownload"  type="button">Download JSON</button>
    <label class="btn-file">
      <input id="fileImport" type="file" accept="application/json" hidden>
      <span>Upload JSONâ€¦</span>
    </label>
    <button id="btnShareUrl" type="button">Copy Share URL</button>
  </div>
</section>


<script src="calculator.js?v=1.0.3" defer></script>
</body>
</html>
